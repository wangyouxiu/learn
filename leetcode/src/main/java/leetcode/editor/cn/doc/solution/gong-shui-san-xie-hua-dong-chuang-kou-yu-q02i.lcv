## æ»‘åŠ¨çª—å£ + å“ˆå¸Œè¡¨

æ•´ç†é¢˜æ„ï¼šæ˜¯å¦å­˜åœ¨é•¿åº¦ä¸è¶…è¿‡çš„ $k + 1$ çª—å£ï¼Œçª—å£å†…æœ‰ç›¸åŒå…ƒç´ ã€‚

æˆ‘ä»¬å¯ä»¥ä»å‰å¾€åéå† $nums$ï¼ŒåŒæ—¶ä½¿ç”¨ `Set` è®°å½•éå†å½“å‰æ»‘çª—å†…å‡ºç°è¿‡çš„å…ƒç´ ã€‚

å‡è®¾å½“å‰éå†çš„å…ƒç´ ä¸º $nums[i]$ï¼š

* ä¸‹æ ‡å°äºç­‰äº $k$ï¼ˆèµ·å§‹æ»‘çª—é•¿åº¦è¿˜ä¸è¶³ $k + 1$ï¼‰ï¼šç›´æ¥å¾€æ»‘çª—åŠ æ•°ï¼Œå³å°†å½“å‰å…ƒç´ åŠ å…¥ `Set` ä¸­ï¼›
* ä¸‹æ ‡å¤§äº $k$ï¼šå°†ä¸Šä¸€æ»‘çª—çš„å·¦ç«¯ç‚¹å…ƒç´  $nums[i - k - 1]$ ç§»é™¤ï¼Œåˆ¤æ–­å½“å‰æ»‘çª—çš„å³ç«¯ç‚¹å…ƒç´  $nums[i]$ æ˜¯å¦å­˜åœ¨ `Set` ä¸­ï¼Œè‹¥å­˜åœ¨ï¼Œè¿”å› `True`ï¼Œå¦åˆ™å°†å½“å‰å…ƒç´  $nums[i]$ åŠ å…¥ `Set` ä¸­ã€‚

é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œè‹¥æ•´ä¸ª $nums$ å¤„ç†å®Œåä»æœªæ‰¾åˆ°ï¼Œè¿”å› `False`ã€‚

**ä»£ç ï¼ˆæ„Ÿè°¢ [@Benhao](/u/himymben/)ã€[@ğŸ­å¯ä¹å¯ä¹å—](/u/littletime_cc/) å’Œ [@5cm/s ğŸŒ¸](/u/megurine/) åŒå­¦æä¾›çš„å…¶ä»–è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š**

* []

```Java
class Solution {
    public boolean containsNearbyDuplicate(int[] nums, int k) {
        int n = nums.length;
        Set<Integer> set = new HashSet<>();
        for (int i = 0; i < n; i++) {
            if (i > k) set.remove(nums[i - k - 1]);
            if (set.contains(nums[i])) return true;
            set.add(nums[i]);
        }
        return false;
    }
}
```

* []

```Python3
class Solution:
    def containsNearbyDuplicate(self, nums: List[int], k: int) -> bool:
        n = len(nums)
        s = set()
        for i in range(n):
            if i > k:
                s.remove(nums[i - k - 1])
            if nums[i] in s:
                return True
            s.add(nums[i])
        return False
```

* []

```Go
func containsNearbyDuplicate(nums []int, k int) bool {
    n := len(nums)
    set := map[int]bool{}
    for i := 0; i < n; i++ {
        if i > k {
            set[nums[i - k - 1]] = false
        }
        if set[nums[i]] {
            return true
        }
        set[nums[i]] = true
    }
    return false
}
```

* []

```C++
class Solution {
public:
    bool containsNearbyDuplicate(vector<int>& nums, int k) {
        int n = nums.size();
        unordered_map<int, bool> set;
        for(int i = 0; i < n; ++i){
            if(i > k) set[nums[i - k - 1]] = false;
            if(set[nums[i]]) return true;
            set[nums[i]] = true;
        }
        return false;
    }
};
```

* []

```JS
var containsNearbyDuplicate = function(nums, k) {
    const mp = new Map()
    for (let i in nums) {
        if (mp.has(nums[i]) && i - mp.get(nums[i]) <= k) {
            return true;
        }
        mp.set(nums[i], i);
    }
    return false;
};
```

* []

```Racket
(define/contract (contains-nearby-duplicate nums k)
  (-> (listof exact-integer?) exact-integer? boolean?)
    (define h (make-hasheq))
    (let loop([nums nums] [i 0])
      (cond
        [(empty? nums) false]
        [(and (hash-has-key? h (car nums)) (>= k (- i (hash-ref h (car nums))))) true]
        [else
          (hash-set! h (car nums) i)
          (loop (cdr nums) (+ i 1))
        ]
      )
    )
  )
```

* æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(k)$

---

## å…¶ä»–ã€Œæ»‘åŠ¨çª—å£ã€ç›¸å…³å†…å®¹

æ»‘åŠ¨çª—å£æ¿å­é¢˜å¤ªç®€å•äº†ï¼Ÿä¸å¦‚æ¥è¯•è¯•çƒ­ä¹çš„ [ç»å…¸çš„æ»‘åŠ¨çª—å£ç¬”è¯•é«˜é¢‘é¢˜](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247490043&idx=1&sn=99b610013b2685ba7d2c06a7adaf4125&chksm=fd9cb2e4caeb3bf2f2630a6ac15d854b7c4a8a3235cebcbdb53e880de7ba6b57d4bc61f82996&token=1440990497&lang=zh_CN#rd) ğŸ­ğŸ­ğŸ­

æˆ–æ˜¯åŠ ç»ƒå…¶ä»–ã€Œæ»‘åŠ¨çª—å£ã€å†…å®¹

| é¢˜ç›®                                                                                                         | é¢˜è§£                                                                                                                                                                      | éš¾åº¦ | æ¨èæŒ‡æ•°   |
| ------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---- | ---------- |
| [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/shua-chuan-lc-shuang-zhi-zhen-ha-xi-biao-q08m/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²](https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/solution/shua-chuan-lc-po-su-ha-xi-biao-jie-fa-hu-ml3x/) | å›°éš¾ | ğŸ¤©ğŸ¤© |
| [187. é‡å¤çš„DNAåºåˆ—](https://leetcode-cn.com/problems/repeated-dna-sequences/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/repeated-dna-sequences/solution/gong-shui-san-xie-yi-ti-shuang-jie-hua-d-30pg/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [220. å­˜åœ¨é‡å¤å…ƒç´  III](https://leetcode-cn.com/problems/contains-duplicate-iii/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/contains-duplicate-iii/solution/gong-shui-san-xie-yi-ti-shuang-jie-hua-d-dlnv/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤© |
| [424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦](https://leetcode-cn.com/problems/longest-repeating-character-replacement/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-repeating-character-replacement/solution/ping-ping-wu-qi-shuang-zhi-zhen-da-bai-h-fgif/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [480. æ»‘åŠ¨çª—å£ä¸­ä½æ•°](https://leetcode-cn.com/problems/sliding-window-median/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/sliding-window-median/solution/xiang-jie-po-su-jie-fa-you-xian-dui-lie-mo397/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [567. å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode-cn.com/problems/permutation-in-string/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/permutation-in-string/solution/an-zi-fu-hua-dong-ruo-bao-liao-lai-shi-s-h2xq/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤© |
| [594. æœ€é•¿å’Œè°å­åºåˆ—](https://leetcode-cn.com/problems/longest-harmonious-subsequence/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-harmonious-subsequence/solution/gong-shui-san-xie-yi-ti-shuang-jie-hua-d-quuh/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [643. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I](https://leetcode-cn.com/problems/maximum-average-subarray-i/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-average-subarray-i/solution/hua-dong-chuang-kou-luo-ti-han-mo-ban-by-buo3/) | ç®€å• | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarrays-with-k-different-integers/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/subarrays-with-k-different-integers/solution/miao-dong-xi-lie-xiang-jie-shuang-zhi-zh-9k8w/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III](https://leetcode-cn.com/problems/max-consecutive-ones-iii/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/max-consecutive-ones-iii/solution/san-chong-jie-fa-cong-dong-tai-gui-hua-d-gxks/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤© |
| [1052. çˆ±ç”Ÿæ°”çš„ä¹¦åº—è€æ¿](https://leetcode-cn.com/problems/grumpy-bookstore-owner/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/grumpy-bookstore-owner/solution/hua-dong-chuang-kou-luo-ti-by-ac_oier-nunu/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [1208. å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰](https://leetcode-cn.com/problems/get-equal-substrings-within-budget/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/get-equal-substrings-within-budget/solution/ni-bu-ke-neng-kan-bu-dong-de-qian-zhui-h-u4l1/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©      |
| [1423. å¯è·å¾—çš„æœ€å¤§ç‚¹æ•°](https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/solution/jian-dan-de-hua-dong-chuang-kou-he-kuai-1go5h/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„](https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/solution/xiang-jie-er-fen-hua-dong-chuang-kou-dan-41g1/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤© |
| [1610. å¯è§ç‚¹çš„æœ€å¤§æ•°ç›®](https://leetcode-cn.com/problems/maximum-number-of-visible-points/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/maximum-number-of-visible-points/solution/gong-shui-san-xie-qiu-ji-jiao-ji-he-ti-b-0bid/) | å›°éš¾ | ğŸ¤©ğŸ¤©ğŸ¤©ğŸ¤© |
| [1838. æœ€é«˜é¢‘å…ƒç´ çš„é¢‘æ•°](https://leetcode-cn.com/problems/frequency-of-the-most-frequent-element/) | [LeetCode é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/frequency-of-the-most-frequent-element/solution/gong-shui-san-xie-cong-mei-ju-dao-pai-xu-kxnk/) | ä¸­ç­‰ | ğŸ¤©ğŸ¤©ğŸ¤© |

**æ³¨ï¼šä»¥ä¸Šç›®å½•æ•´ç†æ¥è‡ª [wiki](https://github.com/SharingSource/LogicStack-LeetCode/wiki/æ»‘åŠ¨çª—å£)ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½å¼•ç”¨è¯·ä¿ç•™å‡ºå¤„ã€‚**

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~
